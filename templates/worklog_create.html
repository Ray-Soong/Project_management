{% extends "base.html" %}

{% block title %}记录工时 - 项目管理系统{% endblock %}

{% block content %}
<h1 class="page-title">记录工作时间</h1>

<div class="card" style="max-width: 600px; margin: 0 auto;">
    <h2 style="margin-bottom: 1.5rem; color: #333; text-align: center;">工时信息</h2>
    
    <form method="post">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            {{ form.project_id.label(class="form-label") }}
            {{ form.project_id(class="form-control") }}
        </div>
        
        <div class="form-group">
            {{ form.date.label(class="form-label") }}
            {{ form.date(class="form-control") }}
        </div>
        
        <div class="form-group">
            {{ form.hours.label(class="form-label") }}
            {{ form.hours(class="form-control", placeholder="例如: 8.5", step="0.1", min="0.1", max="24") }}
        </div>
        
        <div class="form-group">
            {{ form.description.label(class="form-label") }}
            {{ form.description(class="form-control", rows="4", placeholder="请描述今天的工作内容...") }}
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
            {{ form.submit(class="btn btn-primary", style="padding: 0.75rem 2rem; font-size: 1rem;") }}
            <a href="{{ url_for('worklog_list') }}" class="btn btn-secondary" style="padding: 0.75rem 2rem; font-size: 1rem; margin-left: 1rem;">取消</a>
        </div>
    </form>
</div>

<script>
// 设置默认日期为今天
document.addEventListener('DOMContentLoaded', function() {
    const dateInput = document.getElementById('date');
    if (dateInput && !dateInput.value) {
        const today = new Date().toISOString().split('T')[0];
        dateInput.value = today;
    }
});
</script>
{% endblock %}
